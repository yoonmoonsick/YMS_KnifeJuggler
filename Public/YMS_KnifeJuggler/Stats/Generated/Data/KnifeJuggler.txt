new entry "YMS_Passive_KnifeJuggler"
type "PassiveData"
data "DisplayName" "h3b13a7145e284d55b223f742b08fd9e1ff23"
data "Description" "hdf29ca7c6bba4fdd8397b5b8962eac844230"
data "Icon" "Action_Multiattack_WhirlwindAttack"
data "Properties" "Highlighted"
data "Boosts" "Skill(Acrobatics,2);Ability(Dexterity,+1);UnlockSpell(YMS_Throw_KnifeJuggler_Action);UnlockSpell(YMS_Throw_KnifeJuggler_BonusAction);UnlockSpell(YMS_Throw_KnifeJuggler_ReactionAction);UnlockSpell(YMS_Target_OffhandAttack);UnlockSpell(YMS_Target_MainHandAttack);IF( ( SpellId('YMS_Throw_KnifeJuggler_Action') or SpellId('YMS_Throw_KnifeJuggler_BonusAction') or SpellId('YMS_Throw_KnifeJuggler_ReactionAction') or SpellId('YMS_Target_OffhandAttack') or SpellId('YMS_Target_MainHandAttack') ) or IsUnarmedAttack()):RollBonus(Attack, DexterityModifier - max(0, StrengthModifier));IF( ( SpellId('YMS_Throw_KnifeJuggler_Action') or SpellId('YMS_Throw_KnifeJuggler_BonusAction') or SpellId('YMS_Throw_KnifeJuggler_ReactionAction') or SpellId('YMS_Target_OffhandAttack') or SpellId('YMS_Target_MainHandAttack') ) or IsUnarmedAttack()):DamageBonus(Attack, DexterityModifier - max(0, StrengthModifier))"

new entry "YMS_Throw_KnifeJuggler_Action"
type "SpellData"
data "SpellType" "Throw"
using "Throw_Throw"
data "SpellProperties" "GROUND:DealDamage(1,Piercing);TARGET:IF(HasStatus('MAG_PROJECTILE_SHOES_TECHNICAL', context.HitDescription.ThrownObject)):DealDamage(2d4, Psychic,Magical,,0,,true);TARGET:IF(HasStatus('MAG_THE_THORNS_WEAPON_BOND', context.HitDescription.ThrownObject)):ApplyStatus(MAG_THE_THORNS_AOE_DAMAGE_TECHNICAL, 100, 0);TARGET:IF(HasStatus('MAG_FIRE_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Fire,Magical,,0,,true);TARGET:IF(HasStatus('MAG_COLD_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Cold,Magical,,0,,true);TARGET:IF(HasStatus('MAG_LIGHTNING_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Lightning,Magical,,0,,true);TARGET:IF(HasStatus('MAG_THUNDER_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Thunder,Magical,,0,,true);TARGET:IF(HasStatus('MAG_ACID_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Acid,Magical,,0,,true);TARGET:IF(HasStatus('MAG_POISON_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Poison,Magical,,0,,true);TARGET:IF(HasStatus('MAG_NECROTIC_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Necrotic,Magical,,0,,true);TARGET:IF(HasStatus('MAG_FORCE_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Force,Magical,,0,,true);TARGET:IF(HasStatus('MAG_PSYCHIC_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Psychic,Magical,,0,,true);TARGET:IF((HasStatus('BURNING', context.HitDescription.ThrownObject) or HasStatus('FLAMING_SPHERE_AURA', context.HitDescription.ThrownObject))):ApplyStatus(SELF, BURNING,100,2);ApplyStatus(SELF, KNIFE_THROW_PENALTY,100,1)"
data "SpellSuccess" "TARGET:IF(IsLightThrownObject(context.HitDescription.ThrownObject, false)):DealDamage(1,Piercing);TARGET:IF(IsMediumThrownObject(context.HitDescription.ThrownObject, false)):DealDamage(1d4,Piercing);TARGET:IF(IsHeavyThrownObject(context.HitDescription.ThrownObject, false)):DealDamage(2d4,Piercing);TARGET:IF(HasWeaponProperty(WeaponProperties.Thrown,context.HitDescription.ThrownObject)):DealDamage(ThrownWeapon, ThrownWeaponDamageType);TARGET:IF(HasWeightGreaterThan(context.Target.Weight/2, context.HitDescription.ThrownObject)):Force(2);TARGET:IF(HasWeightGreaterThan(context.Target.Weight, context.HitDescription.ThrownObject)):ApplyStatus(PRONE,100,1);TARGET:IF(Tagged('BOO',context.HitDescription.ThrownObject)):ApplyStatus(BLINDED,100,1,,,,not SavingThrow(Ability.Dexterity, 15));TARGET:IF(Tagged('DWARF', context.Source) and HasStatus('MAG_DWARVEN_THROWER_TECHNICAL', context.HitDescription.ThrownObject) and not SizeEqualOrGreater(Size.Large)):DealDamage(1d8, Piercing,Magical,,0,,true);TARGET:IF(Tagged('DWARF', context.Source) and HasStatus('MAG_DWARVEN_THROWER_TECHNICAL', context.HitDescription.ThrownObject) and SizeEqualOrGreater(Size.Large)):DealDamage(2d8, Piercing,Magical,,0,,true);IF(HasWeaponProperty(WeaponProperties.Thrown,context.HitDescription.ThrownObject) and HasStatus('HUNTERS_MARK',context.Target,context.Source)):DealDamage(1d6, ThrownWeaponDamageType,Magical,,0,,true);IF(Character()):ApplyStatus(BLEEDING,100,1)"
data "ThrowableTargetConditions" "Tagged('WPN_DAGGER')"
data "Icon" "Action_Multiattack_WhirlwindAttack"
data "DisplayName" "hafc185244ff9439d8966e3908893202ae66e"
data "Description" "h1a785c7ee0da4e96806a67896922f71774b1"
data "UseCosts" "ActionPoint:1"
data "VerbalIntent" "Utility"
data "DamageType" "Piercing"
data "TooltipStatusApply" "ApplyStatus(BLEEDING,100,1);ApplyStatus(KNIFE_THROW_PENALTY,100,1)"
data "SpellFlags" "InventorySelection;RangeIgnoreVerticalThreshold;IsHarmful;HasHighGroundRangeExtension;IgnoreSilence;IgnoreVisionBlock;AddFallDamageOnLand;AbortOnSecondarySpellRollFail;CombatLogSetSingleLineRoll"
data "Trajectories" "ff93ba9c-124c-454e-ac8c-436c136bcef2,75d615be-9277-6e22-6c17-fa51981d7560,8c00238b-549d-dc71-8fcb-42ba68bae142"

new entry "YMS_Throw_KnifeJuggler_BonusAction"
type "SpellData"
data "SpellType" "Throw"
using "YMS_Throw_KnifeJuggler_Action"
data "UseCosts" "BonusActionPoint:1"
data "DisplayName" "h9b62bbc95b1b4e0689f03dc99cd00ece8acd"

new entry "YMS_Throw_KnifeJuggler_ReactionAction"
type "SpellData"
data "SpellType" "Throw"
using "YMS_Throw_KnifeJuggler_Action"
data "UseCosts" "ReactionActionPoint:1"
data "DisplayName" "hbad705fd623f45e5be96e75e6cdd98583g3d"

new entry "KNIFE_THROW_PENALTY"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "ha834766c9dd6448eb88f31e15ea17a3fc9e2"
data "Description" "hc6ff9adad7c140b5abfd8f4b362252e23b92"
data "Icon" "GenericIcon_Intent_Debuff"
data "Boosts" "Ability(Dexterity,-1)"
data "RemoveEvents" "OnTurn"

new entry "YMS_Throw_Throw_CunningAction"
type "SpellData"
data "SpellType" "Throw"
using "Throw_Throw"
data "UseCosts" "BonusActionPoint:1"
data "DisplayName" "h768bb7f245e04cefbf4cb82a7b21d8876e3c"

new entry "YMS_MAG_Throwable_Dagger"
type "Weapon"
using "WPN_Dagger_1"
data "RootTemplate" "631f06ad-cb75-4c4d-80dc-677d43d45a71"
data "ValueUUID" "86e7e503-a225-4b48-819e-2e24de1f904a"
data "PassivesOnEquip" "MAG_HomingWeapon_Passive"
data "DefaultBoosts" "WeaponEnchantment(1);WeaponProperty(Magical);ItemReturnToOwner()"
data "Rarity" "Rare"

new entry "YMS_MartialArts_DextrousUnarmedAttacks"
type "PassiveData"
data "DisplayName" "h1077b2277c5a4b78b6f416471e08bf00a593"
data "Description" "h02a927d702e641709af5c312b58ba58565df"
data "Icon" "PassiveFeature_ReliableTalent"
data "Properties" "Highlighted"
data "BoostContext" "OnStatusApply;OnStatusRemove;OnEquip;OnShortRest;OnCreate;OnLongRest;OnInventoryChanged"
data "BoostConditions" "IsDexterityGreaterThanStrength()"
data "Boosts" "MonkWeaponAttackOverride()"

new entry "YMS_Target_MainHandAttack"
type "SpellData"
data "SpellType" "Target"
data "SpellProperties" "GROUND:DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType);GROUND:ExecuteWeaponFunctors(MainHand);IF(not Player(context.Source)):ApplyStatus(SELF,AI_HELPER_EXTRAATTACK,100,1);  ApplyStatus(SELF, KNIFE_THROW_PENALTY,100,1)"
data "TargetCeiling" "0"
data "TargetFloor" ".25"
data "TargetRadius" "MeleeMainWeaponRange"
data "RequirementConditions" "Tagged('WPN_DAGGER', GetActiveWeapon(context.Source, true))"
data "SpellRoll" "Attack(AttackType.MeleeWeaponAttack)"
data "SpellSuccess" "DealDamage(max(1,MainMeleeWeapon), MainMeleeWeaponDamageType);ExecuteWeaponFunctors(MainHand);IF(Character()):ApplyStatus(BLEEDING,100,1)"
data "TargetConditions" "not Self() and not Dead()"
data "Icon" "Target_MainHandAttack"
data "DisplayName" "hfe10be15b8b74890a6d3e22221891337dg93"
data "Description" "he1d5104ffb21437eb2673897783eba325eb8"
data "TooltipDamageList" "DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType)"
data "TooltipStatusApply" "ApplyStatus(BLEEDING,100,1);ApplyStatus(KNIFE_THROW_PENALTY,100,1)"
data "TooltipAttackSave" "MeleeWeaponAttack"
data "PreviewCursor" "Melee"
data "CastTextEvent" "Cast"
data "CycleConditions" "Character() and Enemy() and not Dead()"
data "UseCosts" "ActionPoint:1"
data "SpellAnimation" "8b8bb757-21ce-4e02-a2f3-97d55cf2f90b,,;6606c30b-be1c-4f17-ae6b-1a591c80b18c,366693ee-d97f-4294-a4dd-a2145ddc4e6a,9f2d32b9-529a-4b75-b3df-6e1ae1395280;f4ac302b-1569-404f-bd52-1fe443e265df,479ee5da-2967-41e1-b7d1-a94e864a5f25,79323098-edb3-4993-ba50-9b5f705e9878;e8a5c57f-855b-4227-acaa-11e8ce8d7d64,b5cb923d-0c08-4c20-89a9-44b9bf98c6cb,6282d127-0c06-4365-9d53-6f32ef350127;7bb52cd4-0b1c-4926-9165-fa92b75876a3,,;2b81c18b-9698-4262-a623-932c2bb1296d,ecbf9949-3b33-432c-b735-e47aaed0924a,e71a7c08-fdc1-4a0b-9a90-1c793c58553c;0b07883a-08b8-43b6-ac18-84dc9e84ff50,,;,,;,,"
data "DualWieldingSpellAnimation" "8b8bb757-21ce-4e02-a2f3-97d55cf2f90b,,;6606c30b-be1c-4f17-ae6b-1a591c80b18c,,;f4ac302b-1569-404f-bd52-1fe443e265df,,:722df2d7-7898-4b0b-b930-5a850b55ccf0,,;a693a7c3-e7e7-4edb-98dd-db5fd700663f,,;7bb52cd4-0b1c-4926-9165-fa92b75876a3,,;2b81c18b-9698-4262-a623-932c2bb1296d,,;0b07883a-08b8-43b6-ac18-84dc9e84ff50,,;,,;,,"
data "VerbalIntent" "Damage"
data "WeaponTypes" "Melee"
data "SpellFlags" "IsAttack;IsMelee;IsHarmful;CanDualWield"
data "HitAnimationType" "PhysicalDamage"
data "SpellAnimationIntentType" "Aggressive"
data "CastEffect" "8682067a-e523-40fb-b705-3112083b6b05"
data "SpellSoundMagnitude" "None"
data "Sheathing" "Melee"

new entry "YMS_Target_OffhandAttack"
type "SpellData"
data "SpellType" "Target"
data "SpellProperties" "GROUND:DealDamage(OffhandMeleeWeapon, OffhandMeleeWeaponDamageType); GROUND:ExecuteWeaponFunctors(OffHand); ApplyStatus(SELF, KNIFE_THROW_PENALTY,100,1)"
data "TargetCeiling" "0"
data "TargetFloor" ".25"
data "TargetRadius" "MeleeMainWeaponRange"
data "RequirementConditions" "Tagged('WPN_DAGGER', GetActiveWeapon(context.Source, false)) and not Tagged('AI_BLOCKOFFHANDATTACK')"
data "SpellRoll" "Attack(AttackType.MeleeOffHandWeaponAttack)"
data "SpellSuccess" "DealDamage(max(1,OffhandMeleeWeapon), OffhandMeleeWeaponDamageType); ExecuteWeaponFunctors(OffHand);IF(Character()):ApplyStatus(BLEEDING,100,1)"
data "TargetConditions" "not Self() and not Dead()"
data "Icon" "Target_OffHandAttack"
data "DisplayName" "h4f869d0e0b66452ca927fd9ca216b88bg2cb"
data "Description" "he48ba2b24434402a9b69f29fb46d3964e9f9"
data "TooltipDamageList" "DealDamage(OffhandMeleeWeapon, OffhandMeleeWeaponDamageType)"
data "TooltipStatusApply" "ApplyStatus(BLEEDING,100,1);ApplyStatus(KNIFE_THROW_PENALTY,100,1)"
data "TooltipAttackSave" "MeleeWeaponAttack"
data "PreviewCursor" "Melee"
data "CastTextEvent" "CastOffhand"
data "CycleConditions" "Character() and Enemy() and not Dead()"
data "UseCosts" "BonusActionPoint:1"
data "SpellAnimation" "8b8bb757-21ce-4e02-a2f3-97d55cf2f90b,,;c1df9aea-8be9-4de3-bcbc-4e4c1e44dc37,,;722df2d7-7898-4b0b-b930-5a850b55ccf0,,;a693a7c3-e7e7-4edb-98dd-db5fd700663f,,;7bb52cd4-0b1c-4926-9165-fa92b75876a3,,;35f5cba8-3706-46d5-9a1e-2def9ba22473,,;0b07883a-08b8-43b6-ac18-84dc9e84ff50,,;,,;,,"
data "VerbalIntent" "Damage"
data "WeaponTypes" "Melee"
data "SpellFlags" "IsMelee;IsHarmful"
data "HitAnimationType" "PhysicalDamage"
data "SpellAnimationIntentType" "Aggressive"
data "CastEffect" "6b1751f5-a275-44de-bfde-352fc949162e"
data "SpellSoundMagnitude" "None"
data "Sheathing" "Melee"